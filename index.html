<!DOCTYPE html>
<html>
<head>
  <title>Sports Buddy</title>
  <link rel="stylesheet" href="../src/css/style.css">
</head>
<body>

<h1>Sports Buddy â€“ User Dashboard</h1>

<input type="text" id="sportName" placeholder="Sport Name" />
<input type="text" id="city" placeholder="City" />
<input type="text" id="area" placeholder="Area" />

<button onclick="addEvent()">Add Sport Event</button>
<button onclick="loadEvents()">Load Events</button>

<ul id="eventList"></ul>

<script type="module">
  import { addSportEvent, getSportEvents, deleteSportEvent }
  from "../src/js/sports.js";

  const user = "user@example.com"; // demo user

  async function addEvent() {
    const name = sportName.value;
    const city = city.value;
    const area = area.value;
    await addSportEvent(name, city, area, user);
    alert("Event added");
  }

  async function loadEvents() {
    const events = await getSportEvents();
    eventList.innerHTML = events.map(e =>
      `<li>${e.name} - ${e.city}
        <button onclick="remove('${e.id}')">Delete</button>
      </li>`).join("");
  }

  async function remove(id) {
    await deleteSportEvent(id, user);
    loadEvents();
  }

  window.addEvent = addEvent;
  window.loadEvents = loadEvents;
  window.remove = remove;
</script>

</body>
</html>
